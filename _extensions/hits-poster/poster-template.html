<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"$if(lang)$ lang="$lang$" xml:lang="$lang$"$endif$>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    $if(favicon)$
    <link rel="icon" type="image/png" href="$favicon$" />
    $endif$

    $for(author-meta)$<meta name="author" content="$author-meta$" />$endfor$
    $if(date-meta)$<meta name="date" content="$date-meta$" />$endif$
    <title>$if(title-prefix)$$title-prefix$ - $endif$$pagetitle$</title>

    $for(header-includes)$
    $header-includes$
    $endfor$

    $if(highlighting-css)$<style type="text/css">$highlighting-css$</style>$endif$

    $for(css)$
    <link rel="stylesheet" href="$css$" $if(html5)$$else$type="text/css" $endif$/>
    $endfor$

    <style>
    /* Override template defaults */
    $if(fontsize)$
    html {
      font-size: $fontsize$;
    }
    $endif$
    
    $if(format.landscape)$
      $if(format.a1)$
        @page {
          height: 594mm;
          width: 841mm;
        }
        html, body {
          height: 594mm;
          width: 841mm;
        }
      $else$
        @page {
          height: 841mm;
          width: 1189mm;
        }
        html, body {
          height: 841mm;
          width: 1189mm;
        }
      $endif$
    $else$
      $if(format.a1)$
        @page {
          height: 841mm;
          width: 594mm;
        }
        html, body {
          height: 841mm;
          width: 594mm;
        }
      $else$
        @page {
          height: 1189mm;
          width: 841mm;
        }
        html, body {
          height: 1189mm;
          width: 841mm;
        }
      $endif$
    $endif$


    $if(height)$
    @page {
      height: $height$;
    }
    html {
      height: $height$;
    }
    body {
      height: calc($height$ - 0.5in);
    }
    $endif$
    $if(width)$
    @page {
      width: $width$;
    }
    html {
      width: $width$;
    }
    body {
      width: calc($width$ - 0.5in);
    }
    $endif$

    $if(hero_background)$
    #hero { background: $hero_background$;}
    $endif$

    $if(hero_color)$
    #hero * { color: $hero_color$;}
    $endif$

    $if(logo)$
    #left-bar {
      background-image: url($logo$);
      background-repeat: no-repeat;
      background-position: bottom center;
      background-size: 33%;
      margin-bottom: 2%;
    }
    $endif$

    $if(linkcolor)$
    a, a:visited, a:hover, a:focus, a:active { color: $linkcolor$; }
    $endif$

    $if(highlight_color)$
    strong, b, sup { color: $highlight_color$; }
    $endif$
    </style>

  </head>
  <body>

$for(include-before)$
$include-before$
$endfor$

$if(title)$
<div id="title-container">
    <h1>$title$</h1>
    $if(custom-authors)$
    <div class="author">
      $for(custom-authors)$<span style="white-space: pre">$custom-authors.name$</span>$if(custom-authors.affiliation)$<sup>$custom-authors.affiliation$</sup>$endif$$if(custom-authors.extra)$ ($for(custom-authors.extra)$$custom-authors.extra$$sep$, $endfor$)$endif$$sep$, $endfor$
    </div>
    $endif$
    $if(affiliation)$
    <div class="affiliation">
      <ol>
      $for(affiliation)$
      <li>$affiliation$</li>
      $endfor$
      </ol>
    </div>
    $endif$
</div>
$endif$

$body$

<script type="text/javascript">
(function() {
  // break words in <a> if the text and uri are identical
  els = document.getElementsByTagName('a');
  for (i = 0; i < els.length; i++) {
    el = els[i];
    if (el.getAttribute('href') === el.innerText) el.style.wordBreak = 'break-all';
  }
})();
</script>

$math$


$if(qrcode)$
<script src="./www/qrcode.min.js" type="text/javascript"></script>
<script type="text/javascript">
new QRCode(document.getElementById("qrcode"), {
  text: "$if(qrcode.text)$$qrcode.text$$endif$",
  width: $if(qrcode.size)$$qrcode.size$$else$250$endif$,
  height: $if(qrcode.size)$$qrcode.size$$else$250$endif$,
  colorLight: "$if(qrcode.color.background)$$qrcode.color.background$$else$#00000000$endif$",
  colorDark: "$if(qrcode.color)$$qrcode.color$$else$#FFFFFF$endif$",
  correctLevel : QRCode.CorrectLevel.L});
</script>
$endif$

$for(include-after)$
$include-after$
$endfor$

  </body>
</html>
